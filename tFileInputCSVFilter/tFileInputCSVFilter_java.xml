<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
  <HEADER 
  AUTHOR="Nestor Urquiza" 
  COMPATIBILITY="ALL" 
  DATA_AUTO_PROPAGATE="false" 
  PLATEFORM="ALL" 
  RELEASE_DATE="20121026" 
  SERIAL="" 
  STARTABLE="true" 
  HAS_CONDITIONAL_OUTPUTS="true"
  STATUS="ALPHA" 
  SCHEMA_AUTO_PROPAGATE ="true"
  VERSION="0.1"> 
    <SIGNATURE/> 
  </HEADER>  
  <FAMILIES> 
    <FAMILY>File/Input</FAMILY> 
  </FAMILIES>  
  <DOCUMENTATION> 
    <URL/> 
  </DOCUMENTATION>  
  <CONNECTORS> 
  <CONNECTOR CTYPE="FLOW" MAX_INPUT="1" MAX_OUTPUT="0"/>
	<CONNECTOR NAME="FILTER" CTYPE="FLOW" MAX_OUTPUT="1" COLOR="086438" BASE_SCHEMA="FLOW"/>
	<CONNECTOR NAME="REJECT" CTYPE="FLOW" MAX_OUTPUT="1" LINE_STYLE="2" COLOR="f36300" BASE_SCHEMA="FLOW" />
	<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="0" />
	<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
	<CONNECTOR CTYPE="COMPONENT_OK" />
	<CONNECTOR CTYPE="COMPONENT_ERROR" />
	<CONNECTOR CTYPE="RUN_IF" />
  </CONNECTORS>  
  <PARAMETERS>
    <PARAMETER FIELD="SCHEMA_TYPE" NAME="SCHEMA" NUM_ROW="1" REQUIRED="true">
      <TABLE READONLY="false">
        <COLUMN NAME="line" TYPE="id_String" READONLY="false"/>
      </TABLE>
    </PARAMETER>
    <PARAMETER NAME="SCHEMA_FILTER" FIELD="SCHEMA_TYPE" NUM_ROW="1"	CONTEXT="FILTER">
      <TABLE READONLY="false">
        <COLUMN NAME="line" TYPE="id_String" READONLY="false"/>
      </TABLE>
    </PARAMETER>
    <PARAMETER NAME="SCHEMA_REJECT" FIELD="SCHEMA_TYPE" NUM_ROW="1"	CONTEXT="REJECT">
      <TABLE READONLY="false">
        <COLUMN NAME="line" TYPE="id_String" READONLY="false"/>
      </TABLE>
	   <TABLE READONLY="true">
        <COLUMN NAME="errorMessage" TYPE="id_String" LENGTH="255" READONLY="true" CUSTOM="true"/>
      </TABLE>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="INPUT_FILE" NUM_ROW="2" REQUIRED="true">
    	<DEFAULT>"/tmp/sample.csv"</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="DELIMITER" NUM_ROW="2" REQUIRED="true">
    	<DEFAULT>","</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="LOOKUP_COLUMN" NUM_ROW="3" REQUIRED="true">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="LOOKUP_VALUE" NUM_ROW="3" REQUIRED="true">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER> 
    <PARAMETER FIELD="INTEGER" NAME="HEADER_ROW_NUMBER" NUM_ROW="4" REQUIRED="true">
    	<DEFAULT>0</DEFAULT>
    </PARAMETER> 
  </PARAMETERS>  
  <ADVANCED_PARAMETERS> 
    <PARAMETER FIELD="TEXT" NAME="PROPERTYADVANCED" NUM_ROW="1"/> 
  </ADVANCED_PARAMETERS>  
  <CODEGENERATION>
	<IMPORTS>
		<IMPORT NAME="csvReader" MODULE="javacsv.jar"
			REQUIRED="true" />
	</IMPORTS>
  </CODEGENERATION>  
  <RETURNS>
		<RETURN NAME="NB_LINE" TYPE="id_Integer" AVAILABILITY="AFTER" />
		<RETURN NAME="NB_LINE_OK" TYPE="id_Integer"	AVAILABILITY="AFTER"/>
		<RETURN NAME="NB_LINE_REJECT" TYPE="id_Integer"	AVAILABILITY="AFTER"/>
  </RETURNS>
</COMPONENT>
